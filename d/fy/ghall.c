inherit DOOR_ROOM;
#include <room.h>

void create()
{
    set("short", "é‡‘ç‹®é•–å±€å¤§åŽ…");
    set("long", @LONG
å¤§çº¢[33måœ°æ¯¯[32mä¾æ—§ï¼Œçå¥‡å¤çŽ©ï¼Œé«˜æ‚¬å­—ç”»ï¼Œè¡¨æ˜Žè¿™é‡Œçš„ä¸»äººä¸ä½†æ€§æƒ…è±ªçˆ½ï¼Œå¹¿äº¤æœ‹
å‹ï¼Œä¸”éžå¤§å­—ä¸è¯†ï¼Œç›®ä¸­æ— äººä¹‹è¾ˆã€‚ä¸Šé¦–ä¸€ç‹®çš®äº¤æ¤…ï¼Œå·¦å³å„æ˜Žçƒ›é—ªçƒã€‚ä¸€æ·±è‰²å¤
æœ¨ä¹¦æ¡ˆæ¨ªäºŽæ¤…å‰ï¼Œä¸Šé¢æ•´é½çš„å †ç€ä¸€å·å·é•–å±€æŠ¼é•–çš„è´§ç¥¨ã€‚å‘åŒ—ä¸€é“é“é—¨ã€‚
LONG
    );
    set("exits", ([ /* sizeof() == 4 */
	"west" : __DIR__"goldlion",
	"east" : __DIR__"ginhall",
	"north" : __DIR__"gmoney",
      ]));
    set("objects", ([
	__DIR__"npc/gmaster" : 1,
      ]) );

    set("item_desc", ([
	"å­—ç”»":		"è¿™å­—ç”»ã€‚ã€‚ã€‚é©¬é©¬è™Žè™Žå§ï¼Œå¤§éƒ¨åˆ†æ˜¯ä¸´æ‘¹çš„ã€‚\n",
	"ç‹®çš®äº¤æ¤…":	"è¿™æ˜¯é•–å±€æ€»é•–å¤´æŸ¥çŒ›æœ€çˆ±åçš„æ¤…å­ï¼Œæ‰“æ‰«å¾—å¹²å¹²å‡€å‡€ã€‚\n",
	"çå¥‡å¤çŽ©":	"è¿™æ˜¯æŸ¥çŒ›äºŒåå¤šå¹´ç§¯æ”’ä¸‹æ¥çš„ã€‚\n",
	"ä¹¦æ¡ˆ":		"ä¹¦æ¡ˆæ¨ªäºŽæ¤…å‰ï¼Œä¸Šé¢æ•´é½çš„å †ç€ä¸€å·å·é•–å±€æŠ¼é•–çš„è´§ç¥¨ã€‚\n",
      ]));

    set("coor/x",180);
    set("coor/y",-60);
    set("coor/z",0);
    set("map","fyeast");
    setup();
    create_door("north", "door","é“é—¨", "south", DOOR_CLOSED);

}

void init(){
    add_action("do_look","look");
}


int do_look(string arg){
    object me;

    me = this_player();


    if (arg == "åœ°æ¯¯" || arg == "rag" || arg == "carpet" || arg == "å¤§çº¢åœ°æ¯¯") {
	if (this_player()->query_temp("marks/js_cook_mice") < 3) {
	    tell_object(this_player(),"å¤§åŽ…çš„åœ°é¢ä¸Šé“ºç€å¤§çº¢åœ°æ¯¯ï¼ŒæŠŠå±‹å­é‡Œçš„æ°”æ°›çƒ˜æ‰˜å¾—æš–æ´‹æ´‹çš„ã€‚\n");
	    return 1;
	}
	tell_object(this_player(),"å¤§åŽ…çš„åœ°é¢ä¸Šé“ºç€å¤§çº¢åœ°æ¯¯ï¼ŒæŠŠå±‹å­é‡Œçš„æ°”æ°›çƒ˜æ‰˜å¾—æš–æ´‹æ´‹çš„ã€‚\n");
	tell_object(this_player(),"å¥‡æ€ªçš„æ˜¯ï¼Œå¹²å¹²å‡€å‡€çš„æ¯¯å­ä¸ŠæŽ‰äº†å‡ ç²’ç±³é¥­ã€‚\n");
	this_player()->set_temp("marks/js_cook_mice",4);
	return 1;
    }

    return 0;
}
