// finger.c
/*
(1) allow wizard (arch+) to be invisible to players.
(2) disable group finger for players --- no more dummy guess. we encourage role playing.
------	Modified by Silencer@fy4, 12/02/03
*/

inherit F_CLEAN_UP;

void create()
{
	seteuid(getuid());
}

int main(object me, string arg)
{
	if (me->query_temp("timer/big_cmd")+2 > time())
		return notify_fail("æ­¤å‘½ä»¤æ¯”è¾ƒè€—è´¹ç³»ç»Ÿèµ„æºï¼Œæ¯ç§’åªèƒ½æ‰§è¡Œä¸€æ¬¡ã€‚\n");
	else if (!wizardp(me))
		me->set_temp("timer/big_cmd",time());

	if( !arg ) {
		if( !wizardp(me) )
			return notify_fail("fingeræŒ‡ä»¤åé¢å¿…é¡»è·Ÿå‚æ•°ã€‚\n");		
/*		if( (int)me->query("sen") < 100 )
			return notify_fail("ä½ çš„ç²¾ç¥æ— æ³•é›†ä¸­ã€‚\n");
		if( !wizardp(me) )
		{
			me->receive_damage("sen", 100);
			me->start_more("", FINGER_D->finger_all(0), 0);
		}
		else*/
			me->start_more("", FINGER_D->finger_all(1), 0);

	} else {
		if( (int)me->query("sen") < 50 )
			return notify_fail("ä½ çš„ç²¾ç¥æ— æ³•é›†ä¸­ã€‚\n");
		if( !wizardp(me) || arg="hippo")
			me->receive_damage("sen", 50);
		write( FINGER_D->finger_user(arg,(wizardp(me) || arg == (string)me->query("id"))) );
	}
	return 1;
}


int help(object me)
{
  write(@HELP

[0;1;37mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[0;1;36mæŒ‡ä»¤æ ¼å¼ : 	finger [ä½¿ç”¨è€…å§“å][0m
[0;1;37mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m   

è¿™ä¸ªæŒ‡ä»¤åè·Ÿä½¿ç”¨è€…å§“å,å¯æ˜¾ç¤ºæœ‰å…³æŸä¸ªç©å®¶çš„è¿çº¿, æƒé™ç­‰èµ„æ–™ã€‚
å¦‚æœä½ è¦ç»å¸¸æŸ¥é˜…ä¸€äº›ç©å®¶æ˜¯å¦åœ¨çº¿ï¼Œå»ºè®®ä½¿ç”¨friendæŒ‡ä»¤ã€‚
 
see also : who

[0;1;37mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m 
HELP
    );
    return 1;
}
 
