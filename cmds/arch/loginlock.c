// wizlock.c

inherit F_CLEAN_UP;

int main(object me, string arg)
{
	int lvl;

	if( me!=this_player(1) ) return 0;
	if( wiz_level(me) < wiz_level("(arch)") )
		return notify_fail("ä½ çš„å·«å¸ˆç­‰çº§å¤ªä½ï¼Œæ²¡æœ‰ä½¿ç”¨è¿™ä¸ªæŒ‡ä»¤çš„æƒåŠ›ã€‚\n");
	
	if( !arg || arg=="" ) {
		return notify_fail("å½“å‰é£äº‘å¯ç™»é™†çš„æœ€å¤§äººæ•°ä¸ºï¼š"+ LOGIN_D->query_max_users()+" \n");	
	}
	
	if( sscanf(arg, "%d", lvl)!=1 ) 
		return notify_fail("å‚è§HELPæ ¼å¼è¯´æ˜ã€‚\n");
		
	seteuid(getuid());
	
	if (lvl>0 && lvl<10) {
		LOGIN_D->set_dummy_number(lvl-1);
		write(sprintf("\nå½“å‰æ¯ä¸ªipå¯ä»¥è¿çº¿äººæ•°è®¾ç½®ä¸º%d\n", lvl));
		return 1;
	}
		
	if( LOGIN_D->set_max_users(lvl)) {
		write(sprintf("\nè¿›å…¥æ¸¸æˆäººæ•°è®¾ç½®ä¸º%d	\n",lvl));
		return 1;
	} else
		return notify_fail("ä¸Šçº¿äººæ•°è®¾å®šå¤±è´¥ã€‚\n");
}

int help (object me)
{
        write(@HELP
[0;1;37mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[0;1;36må·«å¸ˆæŒ‡ä»¤æ ¼å¼ : 	loginlock <æ•°å­—>[0m
[0;1;37mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m   

æ­¤å‘½ä»¤æœ‰ä¸¤ä¸ªä½œç”¨

ï¼ˆ1ï¼‰å½“æ•°å­—<10æ—¶ï¼Œå¯è®¾å®šå½“å‰æ¸¸æˆä¸­æ¯ä¸ªipå¯ä»¥ç™»é™†çš„äººæ•°ï¼ˆæ¸¸æˆé»˜è®¤ä¸º3ï¼‰

loginlock 1	æ„æ€å°±æ˜¯æ¯ä¸ªipåªèƒ½ä¸ºä¸€ä¸ªäºº

ï¼ˆ2ï¼‰é™åˆ¶å…±æœ‰å¤šå°‘ä½¿ç”¨è€…å¯ä»¥è¿›å…¥æ¸¸æˆã€‚
æ¯æ¬¡é‡å¯ï¼ˆæˆ–é‡è½½logindï¼‰åç¼ºçœç™»é™†äººæ•°ä¸ºï¼’ï¼ï¼ï¼Œæ­¤æŒ‡ä»¤å¯åŠ¨æ€è®¾ç½®

loginlock 300		å…è®¸åŒæ—¶ç™»é™†äººæ•°ä¸º300

æ³¨ï¼šå¦‚æœä½ è¦ç»™æŸä¸ªipå¤šä¸€äº›ç™»é™†äººæ•°çš„è¯ï¼Œä½¿ç”¨netbarå‘½ä»¤

ç›®å‰netbarèƒ½åšçš„æ˜¯
ï¼ˆ1ï¼‰æ•´ä¸ªæ¸¸æˆå–æ¶ˆip-idé™åˆ¶
ï¼ˆ2ï¼‰ç»™æŸä¸ªipåŠ å€loginäººæ•°

[0;1;37mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m  
HELP
);
        return 1;
}
 
