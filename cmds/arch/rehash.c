// rehash.c

inherit F_CLEAN_UP;

int main(object me, string arg)
{
	if( !arg )
		return notify_fail("æŒ‡ä»¤æ ¼å¼ï¼šrehash <è·¯å¾„>\n");

	if( arg[strlen(arg)-1]!='/' ) arg += "/";
	if(  file_size(arg)!=-2 )
		return notify_fail("æ²¡æœ‰è¿™ä¸ªç›®å½•ï¼\n");

	write("æ›´æ–°æŒ‡ä»¤è¡¨ï¼š" + arg + "\n");
	COMMAND_D->rehash(arg);
	return 1;
}

int help(object me)
{
	write(@HELP
[0;1;37mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[0;1;36må·«å¸ˆæŒ‡ä»¤æ ¼å¼ : 	rehash <ç›®å½•åç§°>[0m
[0;1;37mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m   

è¿™ä¸ªæŒ‡ä»¤ä¼šæ›´æ–°ç³»ç»Ÿå†…éƒ¨çš„æŒ‡ä»¤è¡¨ï¼Œå¦‚æœä½ æ–°å¢æˆ–åˆ é™¤äº†æŸä¸ªç›®å½•ä¸‹çš„
æŒ‡ä»¤ï¼Œå¿…é¡»ç”¨è¿™ä¸ªæŒ‡ä»¤æ›´æ–°è¯¥ç›®å½•æ‰èƒ½ä½¿ç”¨ã€‚

[0;1;37mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m   
HELP
	);
	return 1;
}
